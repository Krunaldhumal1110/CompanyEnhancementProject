{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Grid,Card,CardContent,Typography,Button}from'@mui/material';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function MachineGrid(){const[machines,setMachines]=useState([]);const navigate=useNavigate();useEffect(()=>{axios.get('/api/machines').then(res=>setMachines(res.data));},[]);const markComplete=async id=>{await axios.post(\"/api/machines/\".concat(id,\"/complete\"));axios.get('/api/machines').then(res=>setMachines(res.data));};return/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,sx:{mt:2,background:'#fff',minHeight:'80vh',p:2},children:machines.map(m=>/*#__PURE__*/_jsx(Grid,{item:true,xs:6,sm:4,md:3,children:/*#__PURE__*/_jsx(Card,{sx:{background:m.completed?'#c8e6c9':m.status==='INCOMPLETE'?'#ffcdd2':'#fff'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:m.name}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:m.machineNo?\"Machine \".concat(m.machineNo):''}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>navigate(\"/machine/\".concat(m.id)),sx:{mt:1},children:\"View Details\"}),m.completed?/*#__PURE__*/_jsx(Typography,{color:\"success.main\",children:\"Completed\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{color:\"error.main\",children:\"Incomplete\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"warning\",sx:{mt:1},onClick:()=>markComplete(m.id),children:\"Mark as Complete\"})]})]})})},m.id))});}export default MachineGrid;","map":{"version":3,"names":["React","useEffect","useState","Grid","Card","CardContent","Typography","Button","useNavigate","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","MachineGrid","machines","setMachines","navigate","get","then","res","data","markComplete","id","post","concat","container","spacing","sx","mt","background","minHeight","p","children","map","m","item","xs","sm","md","completed","status","variant","name","machineNo","onClick","color"],"sources":["D:/Krunal/catalisProject/frontend/src/MachineGrid.js"],"sourcesContent":["\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Grid, Card, CardContent, Typography, Button } from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nfunction MachineGrid() {\r\n  const [machines, setMachines] = useState([]);\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    axios.get('/api/machines').then(res => setMachines(res.data));\r\n  }, []);\r\n\r\n  const markComplete = async (id) => {\r\n    await axios.post(`/api/machines/${id}/complete`);\r\n    axios.get('/api/machines').then(res => setMachines(res.data));\r\n  };\r\n\r\n  return (\r\n    <Grid container spacing={2} sx={{ mt: 2, background: '#fff', minHeight: '80vh', p: 2 }}>\r\n      {machines.map(m => (\r\n        <Grid item xs={6} sm={4} md={3} key={m.id}>\r\n          <Card sx={{ background: m.completed ? '#c8e6c9' : (m.status === 'INCOMPLETE' ? '#ffcdd2' : '#fff') }}>\r\n            <CardContent>\r\n              <Typography variant=\"h6\">{m.name}</Typography>\r\n              <Typography variant=\"subtitle1\">{m.machineNo ? `Machine ${m.machineNo}` : ''}</Typography>\r\n              <Button variant=\"contained\" onClick={() => navigate(`/machine/${m.id}`)} sx={{ mt: 1 }}>View Details</Button>\r\n              {m.completed ? (\r\n                <Typography color=\"success.main\">Completed</Typography>\r\n              ) : (\r\n                <>\r\n                  <Typography color=\"error.main\">Incomplete</Typography>\r\n                  <Button variant=\"outlined\" color=\"warning\" sx={{ mt: 1 }} onClick={() => markComplete(m.id)}>Mark as Complete</Button>\r\n                </>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  );\r\n}\r\nexport default MachineGrid;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}